---
title: 版本控制-GIT篇
date: 2018-08-24 19:25:17
tags:
---

### 版本控制
git相比于svn来说，切换分支更加灵活，功能更强大。催生了一系列大型同性交友网站。
功能更强大的同时，带来了更强大的复杂性。需要我们对其有更深的了解，才能更好的使用，否则是发发挥不出他它的威力的。

### 0x01 控制流程
- **研发阶段：策划+美术+程序**
项目初始阶段，由于git是不能根据目录划分权限的，对应策划，美术，程序有各自对应的git仓库。所有的工作内容会不加筛选的全部放入到项目当中，以减少不必要的工作量，团队中所有人都能够直接在项目中看到自己的工作内容。

- **上线阶段：研发+版本维护+更新内容**
这个时候我们不能一股脑的将美术，策划，程序的工作一股脑的放到我们的版本当中，这个时候需要依托于内容进行版本管理。
- 以任务为工作单元
- 由程序将工作单元内容更新到项目中，功能对应分支如下：
    - 功能开发（feature1, feature2...）
    - BUG修改 - develop上修改
    - 测试功能（合并feature到develop）
    - 测试BUG（develop）
    - 线上的紧急BUG修复（hotfix）
- 更新内容确认，**develop**创建**release**
- 更新到1000服，合并**release**到**master**
- 更新到正式（master打tag）

##### 什么情况下不需要创建feature
    1. 可选更新内容（影响范围小，修改时长短，易于验证）

##### 开放分支打包权限
    1. feature（功能）
    2. develop（BUG）
    3. release（更新内容）
    4. master（1000服）

#### 0x02 约定规则
1. 提交信息格式。**【任务主题】：修改内容**
2. hotfix名称。**$plat/$version**。完成hotfix后，自动打tag目录为tag/$plat/$version
3. 手动tag的名称为：tag/$plat/$version

#### 0x03 版本号
版本由三位数字组成0.0.0
第一位是大版本更新（重大更新，资料片）加1  
第二位是日常更新（日常更新）加1  
第三位是紧急更新（紧急更新）加1  
前两个数字要和服务器对应起来。第三位当前端或者后端单独更新时标记  

### 版本控制流程
![image](https://qunny0.github.io/img/article/git_flow.png)
